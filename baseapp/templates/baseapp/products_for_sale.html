{% extends 'main.html' %}

{% block title %}On Sale{% endblock %}

{% block content %}
{% load static %}
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<div class="text-center p-10">
    <h1 class="font-bold text-4xl mb-4">Petcare Products:</h1>
</div>

<form class="d-flex justify-center gap-4 mb-5" role="search" method="GET">
    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="q">
    <input class="form-control me-2" type="number" placeholder="Min Price" aria-label="Min Price" name="min_price">
    <input class="form-control me-2" type="number" placeholder="Max Price" aria-label="Max Price" name="max_price">
    <select name="category" class="form-control">
        <option value="">Accessories Type</option>
        <option value="Food">Food</option>
        <option value="Toy">Toy</option>
        <option value="Tools">Tools</option>
    </select>
    <button class="btn btn-outline-success" type="submit">Search</button>
</form>





<style>
/* Button Styles */
.add-to-cart-button {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    text-align: center;
    display: inline-block;
    font-size: 1rem;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

.add-to-cart-button:hover {
    background-color: #0056b3;
}

/* Header and View Cart Button Styles */
.header {
    display: flex;
    justify-content: flex-end;
    padding: 10px 20px;
}

.view-cart-wrapper {
    margin-bottom: 20px;
}

.view-cart-button {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    font-size: 1rem;
    font-weight: bold;
    border-radius: 5px;
    text-align: center;
    display: inline-block;
    transition: background-color 0.3s ease;
}

.view-cart-button:hover {
    background-color: #0056b3;
}

</style>



<!-- Header Section with View Cart Button -->
<header class="header">
    <div class="view-cart-wrapper">
        <a href="{% url 'baseapp:cart' %}" class="view-cart-button">View Cart</a>
    </div>
</header>

<!-- Grid Section -->
<section class="mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 justify-items-center gap-y-10 gap-x-6 mt-5">
    {% for product in products %}
    <!-- Product Card -->
    <div class="w-72 bg-white shadow-lg border border-gray-200 rounded-lg overflow-hidden">
        <!-- Image -->
        {% if product.picture %}
        <img src="{{ product.picture.url }}" alt="{{ product.title }}" class="h-60 w-full object-cover" />
        {% else %}
        <img src="https://via.placeholder.com/288x400" alt="No image available" class="h-60 w-full object-cover" />
        {% endif %}
        <!-- Details -->
        <div class="p-4">
            <a href="{% url 'baseapp:product_detail' product.pk %}" class="text-lg font-bold truncate">{{ product.title }}</a>
            <div class="flex justify-between items-center mt-2">
                <span class="text-blue-500 font-bold">${{ product.price }}</span>
                <form action="{% url 'baseapp:add_to_cart' product.id %}" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="quantity" value="1" min="1">
                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Add to Cart
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% empty %}
    <div>No accessories found.</div>
    {% endfor %}
</section>


<!-- Order Status Button HTML
<a href="{ % url 'baseapp:order_status' order_id=order.order_id %}" class="order-status-btn">Check Order Status</a>
-->


<style>

/* Order Status Button CSS */
.order-status-btn {
    display: inline-block;
    padding: 10px 15px;
    background-color: #007bff; /* Bootstrap primary color */
    color: white;
    text-align: center;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.2s;
}

.order-status-btn:hover {
    background-color: #0056b3; /* Darker blue on hover */
}

</style>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

{% endblock content %}
